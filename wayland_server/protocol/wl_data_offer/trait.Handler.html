<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Handler` trait in crate `wayland_server`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Handler">

    <title>wayland_server::protocol::wl_data_offer::Handler - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc trait">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Trait Handler</p><div class="block items"><ul><li><a href="#provided-methods">Provided Methods</a></li><li><a href="#implementors">Implementors</a></li></ul></div><p class='location'><a href='../../index.html'>wayland_server</a>::<wbr><a href='../index.html'>protocol</a>::<wbr><a href='index.html'>wl_data_offer</a></p><script>window.sidebarCurrent = {name: 'Handler', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Trait <a href='../../index.html'>wayland_server</a>::<wbr><a href='../index.html'>protocol</a>::<wbr><a href='index.html'>wl_data_offer</a>::<wbr><a class="trait" href=''>Handler</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/wayland_server/home/travis/build/Smithay/wayland-rs/target/debug/build/wayland-server-2e071a6c036d2345/out/wayland_api.rs.html#969-1096' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait Handler {
    fn <a href='#method.accept' class='fnname'>accept</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;serial: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mime_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<div class='item-spacer'></div>    fn <a href='#method.receive' class='fnname'>receive</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mime_type: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/imp/ext/io/type.RawFd.html" title="type std::sys::imp::ext::io::RawFd">RawFd</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<div class='item-spacer'></div>    fn <a href='#method.destroy' class='fnname'>destroy</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<div class='item-spacer'></div>    fn <a href='#method.finish' class='fnname'>finish</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<div class='item-spacer'></div>    fn <a href='#method.set_actions' class='fnname'>set_actions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dnd_actions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferred_action: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
}</pre>
            <h2 id='provided-methods'>Provided Methods</h2>
            <div class='methods'>
        <h3 id='method.accept' class='method'><span id='accept.v' class='invisible'><code>fn <a href='#method.accept' class='fnname'>accept</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;serial: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;mime_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;<br>)</code></span></h3><div class='docblock'><p>accept one of the offered mime types</p>

<p>Indicate that the client can accept the given mime type, or
NULL for not accepted.</p>

<p>For objects of version 2 or older, this request is used by the
client to give feedback whether the client can receive the given
mime type, or NULL if none is accepted; the feedback does not
determine whether the drag-and-drop operation succeeds or not.</p>

<p>For objects of version 3 or newer, this request determines the
final result of the drag-and-drop operation. If the end result
is that no mime types were accepted, the drag-and-drop operation
will be cancelled and the corresponding drag source will receive
wl_data_source.cancelled. Clients may still use this event in
conjunction with wl_data_source.action for feedback.</p>
</div><h3 id='method.receive' class='method'><span id='receive.v' class='invisible'><code>fn <a href='#method.receive' class='fnname'>receive</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;mime_type: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/imp/ext/io/type.RawFd.html" title="type std::sys::imp::ext::io::RawFd">RawFd</a><br>)</code></span></h3><div class='docblock'><p>request that the data is transferred</p>

<p>To transfer the offered data, the client issues this request
and indicates the mime type it wants to receive.  The transfer
happens through the passed file descriptor (typically created
with the pipe system call).  The source client writes the data
in the mime type representation requested and then closes the
file descriptor.</p>

<p>The receiving client reads from the read end of the pipe until
EOF and then closes its end, at which point the transfer is
complete.</p>

<p>This request may happen multiple times for different mime types,
both before and after wl_data_device.drop. Drag-and-drop destination
clients may preemptively fetch data or examine it more closely to
determine acceptance.</p>
</div><h3 id='method.destroy' class='method'><span id='destroy.v' class='invisible'><code>fn <a href='#method.destroy' class='fnname'>destroy</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a><br>)</code></span></h3><div class='docblock'><p>destroy data offer</p>

<p>Destroy the data offer.</p>

<p>This is a destructor, you cannot send events to this object once this method is called.</p>
</div><h3 id='method.finish' class='method'><span id='finish.v' class='invisible'><code>fn <a href='#method.finish' class='fnname'>finish</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a><br>)</code></span></h3><div class='docblock'><p>the offer will no longer be used</p>

<p>Notifies the compositor that the drag destination successfully
finished the drag-and-drop operation.</p>

<p>Upon receiving this request, the compositor will emit
wl_data_source.dnd_finished on the drag source client.</p>

<p>It is a client error to perform other requests than
wl_data_offer.destroy after this one. It is also an error to perform
this request after a NULL mime type has been set in
wl_data_offer.accept or no action was received through
wl_data_offer.action.</p>

<p>This event only exists since version 3 of the interface</p>
</div><h3 id='method.set_actions' class='method'><span id='set_actions.v' class='invisible'><code>fn <a href='#method.set_actions' class='fnname'>set_actions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;evqh: &amp;mut <a class="struct" href="../../../wayland_server/struct.EventLoopHandle.html" title="struct wayland_server::EventLoopHandle">EventLoopHandle</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;client: &amp;<a class="struct" href="../../../wayland_server/struct.Client.html" title="struct wayland_server::Client">Client</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;resource: &amp;<a class="struct" href="../../../wayland_server/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_server::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;dnd_actions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;preferred_action: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>)</code></span></h3><div class='docblock'><p>set the available/preferred drag-and-drop actions</p>

<p>Sets the actions that the destination side client supports for
this operation. This request may trigger the emission of
wl_data_source.action and wl_data_offer.action events if the compositor
needs to change the selected action.</p>

<p>This request can be called multiple times throughout the
drag-and-drop operation, typically in response to wl_data_device.enter
or wl_data_device.motion events.</p>

<p>This request determines the final result of the drag-and-drop
operation. If the end result is that no action is accepted,
the drag source will receive wl_drag_source.cancelled.</p>

<p>The dnd_actions argument must contain only values expressed in the
wl_data_device_manager.dnd_actions enum, and the preferred_action
argument must only contain one of those values set, otherwise it
will result in a protocol error.</p>

<p>While managing an &quot;ask&quot; action, the destination drag-and-drop client
may perform further wl_data_offer.receive requests, and is expected
to perform one last wl_data_offer.set_actions request with a preferred
action other than &quot;ask&quot; (and optionally wl_data_offer.accept) before
requesting wl_data_offer.finish, in order to convey the action selected
by the user. If the preferred action is not in the
wl_data_offer.source_actions mask, an error will be raised.</p>

<p>If the &quot;ask&quot; action is dismissed (e.g. user cancellation), the client
is expected to perform wl_data_offer.destroy right away.</p>

<p>This request can only be made on drag-and-drop offers, a protocol error
will be raised otherwise.</p>

<p>This event only exists since version 3 of the interface</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    </ul><script type="text/javascript" async
                         src="../../../implementors/wayland_server/protocol/wl_data_offer/trait.Handler.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "wayland_server";
    </script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>